<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trace: The Reflexive Memory Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F9FAFB; /* Light Gray */
            color: #111827; /* Dark Gray */
        }
        .gradient-text {
            background: linear-gradient(90deg, #6D28D9, #EC4899, #3B82F6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .hero-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.1;
        }
        .content-section {
            position: relative;
            z-index: 1;
        }
        .card {
            background-color: #ffffff;
            border: 1px solid #E5E7EB;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
        }
        .btn-primary {
            background-color: #111827;
            color: #ffffff;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #374151;
        }
        .laptop-screen {
            background-color: #F9FAFB;
            background-image: radial-gradient(circle, rgba(0, 0, 0, 0.05) 1px, transparent 1px);
            background-size: 25px 25px;
            padding: 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        /* Animation Styles */
        .palette-item { 
            transition: opacity 0.3s ease-in-out, max-height 0.3s ease-in-out, transform 0.3s ease-in-out, background-color 0.2s ease;
            max-height: 100px;
            opacity: 1;
            transform: scaleY(1);
            transform-origin: top;
            overflow: hidden;
        }
        .palette-item.hidden {
            opacity: 0;
            max-height: 0;
            transform: scaleY(0);
        }
        .palette-item.selected { 
            background-color: rgba(59, 130, 246, 0.1); /* Lighter blue highlight */
        }
        .blinking-cursor {
            display: inline-block;
            width: 2px;
            height: 1em;
            background-color: #6D28D9;
            animation: blink 1s step-end infinite;
            vertical-align: text-bottom;
            margin-left: 2px;
        }
        @keyframes blink {
            from, to { opacity: 1 }
            50% { opacity: 0 }
        }
    </style>
</head>
<body class="antialiased">

    <!-- Navigation Bar -->
    <nav class="fixed top-0 left-0 right-0 z-20 bg-white/80 backdrop-blur-md border-b border-gray-200">
        <div class="max-w-6xl mx-auto px-6">
            <div class="flex justify-between items-center h-16">
                <a href="https://theprismlabs.github.io/trace/" class="text-xl font-bold text-gray-900 tracking-tight">;;Trace</a>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#features" class="text-gray-600 hover:text-gray-900 transition-colors text-sm font-medium">Features</a>
                    <a href="#philosophy" class="text-gray-600 hover:text-gray-900 transition-colors text-sm font-medium">Philosophy</a>
                </div>
                <a href="#" class="hidden md:inline-block bg-gray-900 text-white font-semibold py-2 px-4 rounded-full text-sm hover:bg-gray-700 transition-colors">
                    Get Trace for Chrome (Beta)
                </a>
                <a href="#" class="md:hidden bg-gray-900 text-white font-semibold py-2 px-4 rounded-full text-sm hover:bg-gray-700 transition-colors">
                    Get Beta
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative min-h-screen flex items-center justify-center overflow-hidden">
        <canvas id="hero-canvas" class="hero-canvas"></canvas>
        <div class="content-section text-center px-4">
            <h1 class="text-5xl md:text-7xl font-bold tracking-tight text-gray-900 mb-4">
                Command your web.
            </h1>
            <p class="max-w-2xl mx-auto text-lg md:text-xl text-gray-600 mb-8">
                Your attention is precious. Trace is a reflexive memory engine that lets you mark and stash ideas without breaking your flow.
            </p>
            <a href="#" class="btn-primary font-semibold py-3 px-8 rounded-full text-lg inline-block">
                Get Trace for Chrome (Beta)
            </a>
        </div>
    </header>

    <main class="py-20 md:py-32">
        <!-- How it Works Section -->
        <section class="content-section max-w-5xl mx-auto px-6 mb-24 md:mb-40 text-center scroll-mt-20" id="how-it-works">
            <h2 class="text-3xl md:text-4xl font-bold tracking-tight text-gray-900 mb-12">Fast like muscle memory.</h2>
            <div class="grid md:grid-cols-2 gap-8 text-left">
                <div class="p-8 rounded-xl bg-white border border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">Mark a quote.</h3>
                    <p class="text-gray-600">Select text, press <kbd class="px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg">Enter</kbd>. It's saved with its source, instantly.</p>
                </div>
                <div class="p-8 rounded-xl bg-white border border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">Stash a thought.</h3>
                    <p class="text-gray-600">Just start typing, press <kbd class="px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg">Enter</kbd>. Your fleeting idea is captured.</p>
                </div>
            </div>
        </section>

        <!-- Command Palette Section -->
        <section class="content-section max-w-6xl mx-auto px-6 mb-24 md:mb-40 scroll-mt-20">
            <div class="grid md:grid-cols-2 gap-x-16 gap-y-12 items-center">
                <div class="text-left md:order-2">
                    <h2 class="text-3xl md:text-4xl font-bold tracking-tight text-gray-900 mb-6">Recall at the speed of thought.</h2>
                    <p class="text-lg text-gray-600">
                        This is your thinking buffer, instantly searchable. Trigger the command palette with <code class="bg-gray-100 text-gray-800 rounded-md px-2 py-1 font-mono text-base">;;</code>, type a keyword, navigate, and paste any saved clip or note with its source.
                    </p>
                </div>
                <div class="md:order-1">
                    <!-- Laptop Frame -->
                    <div class="relative mx-auto border-gray-300 bg-gray-300 border-[8px] rounded-t-xl h-[172px] max-w-[301px] md:h-[294px] md:max-w-[512px]">
                        <div class="rounded-lg overflow-hidden h-[156px] md:h-[278px] laptop-screen">
                             <div id="animation-container" class="w-full h-full">
                                <!-- JS will populate this -->
                             </div>
                        </div>
                    </div>
                    <div class="relative mx-auto bg-gray-200 rounded-b-xl h-[17px] max-w-[351px] md:h-[21px] md:max-w-[597px]">
                        <div class="absolute left-1/2 top-0 -translate-x-1/2 rounded-b-xl w-[56px] h-[4px] md:w-[96px] md:h-[8px] bg-gray-300"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section (id="features") -->
        <section class="content-section max-w-6xl mx-auto px-6 mb-24 md:mb-40 scroll-mt-20" id="features">
             <div class="grid md:grid-cols-3 gap-8">
                <div class="card p-8 rounded-2xl">
                    <h3 class="text-2xl font-semibold text-gray-900 mb-3">Your Thinking Buffer</h3>
                    <p class="text-gray-600">This isn’t a clipboard. It’s a scratchpad for ideas, quotes, and insights — built for creators, researchers, and writers.</p>
                </div>
                <div class="card p-8 rounded-2xl">
                    <h3 class="text-2xl font-semibold text-gray-900 mb-3">You're In Control</h3>
                    <p class="text-gray-600">No passive tracking. No clutter. Every saved snippet is intentional. Fast, local, and yours.</p>
                </div>
                <div class="card p-8 rounded-2xl">
                    <h3 class="text-2xl font-semibold text-gray-900 mb-3">Organize Without Organizing</h3>
                    <p class="text-gray-600">Mark now, sort later. Bundles, tags, and powerful search make it easy to turn fragments into structure—when you're ready.</p>
                </div>
            </div>
        </section>

        <!-- Product Philosophy Section (id="philosophy") -->
        <section class="content-section max-w-4xl mx-auto px-6 mb-24 md:mb-40 scroll-mt-20" id="philosophy">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold tracking-tight text-gray-900">Product Philosophy</h2>
                <p class="mt-4 text-lg text-gray-600">Trace isn’t about features. It’s about obviousness.</p>
            </div>
            <div class="space-y-8">
                <div class="border-l-2 border-gray-300 pl-6">
                    <h3 class="text-xl font-semibold text-gray-900">Expectation is Specification</h3>
                    <p class="text-gray-600 mt-1">We don’t build features. We fulfill reflexes. If a user tries something, Trace should already support it.</p>
                </div>
                <div class="border-l-2 border-gray-300 pl-6">
                    <h3 class="text-xl font-semibold text-gray-900">Interfaces Should Be Invisible</h3>
                    <p class="text-gray-600 mt-1">UI is not the product—reaction is. Trace feels like muscle memory, not software.</p>
                </div>
                <div class="border-l-2 border-gray-300 pl-6">
                    <h3 class="text-xl font-semibold text-gray-900">Behavior is the Documentation</h3>
                    <p class="text-gray-600 mt-1">If it needs to be explained, it’s wrong. It does what you expect it to do.</p>
                </div>
            </div>
        </section>

        <!-- Final Call to Action -->
        <section class="content-section text-center px-4 py-20">
             <h2 class="text-5xl md:text-7xl font-bold tracking-tight text-gray-900 leading-tight">
                Don’t just copy.<br>
                <span class="gradient-text">Mark it. Stash it.</span>
            </h2>
            <div class="mt-12">
                 <a href="#" class="btn-primary font-semibold py-3 px-8 rounded-full text-lg inline-block">
                    Command Your Web
                </a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="content-section max-w-6xl mx-auto px-6 py-12 text-center text-gray-500">
        <p>&copy; 2024 Trace. All rights reserved.</p>
        <div class="mt-4 flex justify-center space-x-6">
            <a href="https://x.com/TraceRecall" class="hover:text-gray-900 transition-colors">Twitter</a>
            <a href="https://theprismlabs.github.io/trace/privacy-policy" class="hover:text-gray-900 transition-colors">Privacy</a>
            <a href="mailto:shreyanshpandey@protonmail.com" class="hover:text-gray-900 transition-colors">Contact</a>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Hero background animation
        window.addEventListener('load', function() {
            let scene, camera, renderer, particles, particleSystem;
            const heroCanvas = document.getElementById('hero-canvas');
            if (!heroCanvas) return;

            function init() {
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1000);
                camera.position.z = 300;
                renderer = new THREE.WebGLRenderer({ canvas: heroCanvas, alpha: true });
                renderer.setPixelRatio(window.devicePixelRatio);
                renderer.setSize(window.innerWidth, window.innerHeight);
                particles = new THREE.BufferGeometry();
                const particleCount = 5000;
                const positions = new Float32Array(particleCount * 3);
                for (let i = 0; i < particleCount * 3; i++) {
                    positions[i] = (Math.random() - 0.5) * 1000;
                }
                particles.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                const particleMaterial = new THREE.PointsMaterial({
                    color: 0xAAAAAA, size: 0.7, blending: THREE.AdditiveBlending,
                    transparent: true, sizeAttenuation: true,
                });
                particleSystem = new THREE.Points(particles, particleMaterial);
                scene.add(particleSystem);
                animate();
            }
            function animate() {
                requestAnimationFrame(animate);
                particleSystem.rotation.y += 0.0002;
                particleSystem.rotation.x += 0.0001;
                renderer.render(scene, camera);
            }
            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            }
            window.addEventListener('resize', onWindowResize, false);
            init();
        });


        // Command Palette Animation Logic
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('animation-container');
            const typingTarget = 'Product Philosop';

            const allItems = [
                { match: "Interesting Reads", html: `<div class="p-2.5 flex items-center space-x-2.5"><div class="w-4 h-4 flex-shrink-0 text-red-500"><!-- icon --></div><div><p class="text-gray-800">Interesting Reads</p><p class="text-gray-500 text-xs">1 item • Stash</p></div></div>` },
                { match: "Quotes", html: `<div class="p-2.5 flex items-center space-x-2.5"><div class="w-4 h-4 flex-shrink-0 text-orange-500"><!-- icon --></div><div><p class="text-gray-800">Quotes</p><p class="text-gray-500 text-xs">4 items • Stash</p></div></div>` },
                { match: "Product Philosophy", html: `<div class="p-2.5 flex items-center space-x-2.5"><div class="w-4 h-4 flex-shrink-0 text-amber-500"><!-- icon --></div><div><p class="text-gray-800">Product Philosophy</p><p class="text-gray-500 text-xs">3 items • Stash</p></div></div>` },
                { match: "obviousness", content: 'Trace isn’t about features. It’s about obviousness. It behaves the way your mind expects. — <a href="/" class="text-gray-400 hover:text-blue-600 underline">Trace: The Reflexive Memory Engine</a>', stash: "Product Philosophy", html: `<div class="p-2.5 flex items-start space-x-2.5"><div class="w-4 h-4 flex-shrink-0 text-gray-400 mt-0.5"><!-- icon --></div><div><p class="text-gray-600">Trace isn't about features. It's about <span class="font-bold text-gray-800">obviousness</span>...</p><div class="flex items-center text-xs text-amber-600 mt-1"><span>Product Philosophy</span></div></div></div>`},
                { match: "user expects", content: "If a user expects something—Esc to dismiss, arrow keys to navigate, Enter to commit—it should already work.", stash: "Product Philosophy", html: `<div class="p-2.5 flex items-start space-x-2.5"><div class="w-4 h-4 flex-shrink-0 text-gray-400 mt-0.5"><!-- icon --></div><div><p class="text-gray-600">If a <span class="font-bold text-gray-800">user expects</span> something—Esc to dismiss...</p><div class="flex items-center text-xs text-amber-600 mt-1"><span>Product Philosophy</span></div></div></div>` },
            ];

            function renderItems(itemsToRender, selector) {
                const paletteContainer = container.querySelector(selector);
                if (paletteContainer) {
                    paletteContainer.innerHTML = itemsToRender.map((item, index) => 
                        `<div id="item-${index}" class="palette-item" data-match="${item.match}" data-stash="${item.stash || ''}">${item.html}</div>`
                    ).join('');
                }
            }

            async function runAnimation() {
                // 1. Reset and Initial State
                container.innerHTML = `
                    <div id="palette-wrapper" class="w-full max-w-sm transition-opacity duration-300">
                        <div id="query-container" class="w-full font-mono text-lg text-gray-800 mb-2">
                           <span class="text-gray-500">;;</span><span id="typing-span"></span><span class="blinking-cursor"></span>
                        </div>
                        <div id="palette-container" class="w-full bg-white rounded-lg shadow-2xl border border-gray-200 font-sans text-sm overflow-hidden divide-y divide-gray-200">
                        </div>
                    </div>
                `;
                renderItems(allItems, '#palette-container');
                
                const typingSpan = document.getElementById('typing-span');
                const paletteItems = Array.from(container.querySelectorAll('.palette-item'));

                // Pause to showcase the initial palette
                await new Promise(r => setTimeout(r, 1500));

                // 2. Animate Typing and Filtering
                for (let i = 0; i <= typingTarget.length; i++) {
                    await new Promise(r => setTimeout(r, 90));
                    const currentText = typingTarget.substring(0, i);
                    typingSpan.textContent = currentText;

                    paletteItems.forEach(item => {
                        const matchText = (item.dataset.match || "").toLowerCase();
                        const stashText = (item.dataset.stash || "").toLowerCase();
                        const isMatch = matchText.includes(currentText.toLowerCase()) || stashText.includes(currentText.toLowerCase());
                        if (!isMatch) {
                            item.classList.add('hidden');
                        } else {
                            item.classList.remove('hidden');
                        }
                    });
                }
                
                await new Promise(r => setTimeout(r, 700));

                // 3. Navigate
                const visibleItems = paletteItems.filter(item => !item.classList.contains('hidden'));
                const stashHeader = visibleItems.find(item => item.id === 'item-2');
                const clipToSelect = visibleItems.find(item => item.id === 'item-3'); // The 'obviousness' clip
                
                if (stashHeader) {
                    await new Promise(r => setTimeout(r, 800));
                    stashHeader.classList.add('selected');
                }
                if (clipToSelect) {
                    await new Promise(r => setTimeout(r, 800));
                    if (stashHeader) stashHeader.classList.remove('selected');
                    clipToSelect.classList.add('selected');
                }

                // 4. Paste
                await new Promise(r => setTimeout(r, 1200));
                const queryContainer = document.getElementById('query-container');
                const paletteContainer = document.getElementById('palette-container');
                
                if(paletteContainer) {
                    paletteContainer.style.transition = 'opacity 0.3s ease';
                    paletteContainer.style.opacity = 0;
                }
               
                await new Promise(r => setTimeout(r, 300));
                
                if (queryContainer) {
                    queryContainer.className = 'w-full text-lg text-gray-800 font-sans';
                    queryContainer.innerHTML = `<p>${allItems[3].content}<span class="blinking-cursor"></span></p>`;
                }
                 if (paletteContainer) paletteContainer.remove();
                
                // 5. Loop
                await new Promise(r => setTimeout(r, 5000));
                runAnimation();
            }

            runAnimation();
        });

    </script>
</body>
</html>
